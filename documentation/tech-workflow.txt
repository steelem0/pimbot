ğŸ”§ 2. TECH WORKFLOW
ğŸ“ Page: index.vue
Renders input field and button

Triggers useAgentFlow().start(goal)

Shows Q&A thread as steps progress

ğŸ§© Composable: useAgentFlow.ts
Handles:

ğŸ§  Memory (goal, responses, messages)

ğŸ” Loop logic (Groq API call âœ next question)

âœï¸ Summary generation

ğŸ’¾ Option to save to DB (/api/submitSession)

ğŸ“„ Option to send to /api/generatePdf

ğŸ›‘ Consent Modal
New file: components/ConsentModal.vue

Shows once per session (persisted with cookie/localStorage)

Blocks interaction until accepted

Flags the session as consented: true

ğŸ“¬ Groq Agent Calls
New file: server/utils/groq.ts

Handles message array and returns narrative + options

You might structure prompts like ReAct or ReWOO (weâ€™ll decide)

ğŸ§¾ DB Save
server/api/submitSession.post.ts

Saves goal, responses, consented, etc.

Adds timestamp for future analytics or exports

ğŸ“ PDF Generation
New: server/api/generatePdf.post.ts

Accepts session ID or full content

Uses html-pdf, puppeteer, or jsPDF

Returns PDF buffer to frontend for download